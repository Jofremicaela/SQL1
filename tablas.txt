create table marca_moto
(
    cod_marca          INTEGER               not null auto_increment,
    desc_marca         VARCHAR(200)          not null,
    primary key (cod_marca)
);


create table origen
(
    cod_origen         VARCHAR(100)          not null,
    desc_origen        VARCHAR(200)          not null,
    primary key (cod_origen)
);


create table localidad
(
    cod_pos            VARCHAR(10)           not null,
    desc_localidad     VARCHAR(100)          not null,
    primary key (cod_pos)
);



create table articulos
(
    cod_art            INTEGER               not null auto_increment,
    cod_origen         VARCHAR(100)                  ,
    desc_art           VARCHAR(200)          not null,
    stock_art          VARCHAR(200)          not null,
    precio_vnta_art    DECIMAL(10,2)         not null,
    primary key (cod_art),
    foreign key  (cod_origen)
       references origen (cod_origen)
);



create table proveedores
(
    cod_prov           INTEGER               not null auto_increment,
    cod_art            INTEGER                       ,
    nombre_prov        VARCHAR(100)          not null,
    denominacion_prov  VARCHAR(200)          not null,
    telefono_prov      NUMERIC(20)           not null,
    cod_dom            VARCHAR(200)          not null,
    primary key (cod_prov),
    foreign key  (cod_art)
       references articulos (cod_art),
    foreign key  (cod_dom)
       references domicilio (cod_dom)
);



create table modelo_moto
(
    cod_mod            INTEGER               not null auto_increment,
    cod_marca          INTEGER               not null,
    cod_origen         VARCHAR(100)                  ,
    cod_art            INTEGER                       ,
    desc_mod           VARCHAR(200)          not null,
    primary key (cod_mod),
    foreign key  (cod_marca)
       references marca_moto (cod_marca),
    foreign key  (cod_origen)
       references origen (cod_origen),
    foreign key  (cod_art)
       references articulos (cod_art)
);


create table domicilio
(
    cod_dom            VARCHAR(200)          not null,
    cod_pos            VARCHAR(10)           not null,
    calle_dom          VARCHAR(100)          not null,
    altura_dom         VARCHAR(5)            not null,
    piso_dom           VARCHAR(30)                   ,
    primary key (cod_dom),
    foreign key  (cod_pos)
       references localidad (cod_pos)
);



create table compras
(
    cod_comp           INTEGER               not null auto_increment,
    cod_prov           INTEGER               not null,
    cod_art            INTEGER               not null,
    cant_comp          VARCHAR(200)          not null,
    precio_unit_comp   DECIMAL(10,2)         not null,
    fecha_ult_comp     DATE                  not null,
    primary key (cod_comp),
    foreign key  (cod_prov)
       references proveedores (cod_prov),
    foreign key  (cod_art)
       references articulos (cod_art)
);

create table art_modelo
(
    cod_art            INTEGER               not null,
    cod_mod            INTEGER               not null,
    primary key (cod_art, cod_mod),
    foreign key  (cod_art)
       references articulos (cod_art),
    foreign key  (cod_mod)
       references modelo_moto (cod_mod)
);


